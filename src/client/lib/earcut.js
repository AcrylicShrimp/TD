'use strict';define(()=>{function f(R,S,T){T=T||2;var U=S&&S.length,V=U?S[0]*T:R.length,W=g(R,0,V,T,!0),X=[];if(!W)return X;var Y,Z,$,_,aa,ba,ca;if(U&&(W=u(R,S,W,T)),R.length>80*T){Y=$=R[0],Z=_=R[1];for(var da=T;da<V;da+=T)aa=R[da],ba=R[da+1],aa<Y&&(Y=aa),ba<Z&&(Z=ba),aa>$&&($=aa),ba>_&&(_=ba);ca=Math.max($-Y,_-Z),ca=0===ca?0:1/ca}return k(W,X,T,Y,Z,ca),X}function g(R,S,T,U,V){var W,X;if(V===0<Q(R,S,T,U))for(W=S;W<T;W+=U)X=N(W,R[W],R[W+1],X);else for(W=T-U;W>=S;W-=U)X=N(W,R[W],R[W+1],X);return X&&H(X,X.next)&&(O(X),X=X.next),X}function h(R,S){if(!R)return R;S||(S=R);var U,T=R;do if(U=!1,!T.steiner&&(H(T,T.next)||0===G(T.prev,T,T.next))){if(O(T),T=S=T.prev,T===T.next)break;U=!0}else T=T.next;while(U||T!==S);return S}function k(R,S,T,U,V,W,X){if(R){!X&&W&&A(R,U,V,W);for(var Z,$,Y=R;R.prev!==R.next;){if(Z=R.prev,$=R.next,W?o(R,U,V,W):l(R)){S.push(Z.i/T),S.push(R.i/T),S.push($.i/T),O(R),R=$.next,Y=$.next;continue}if(R=$,R===Y){X?1===X?(R=s(R,S,T),k(R,S,T,U,V,W,2)):2==X&&t(R,S,T,U,V,W):k(h(R),S,T,U,V,W,1);break}}}}function l(R){var S=R.prev,T=R,U=R.next;if(0<=G(S,T,U))return!1;for(var V=R.next.next;V!==R.prev;){if(E(S.x,S.y,T.x,T.y,U.x,U.y,V.x,V.y)&&0<=G(V.prev,V,V.next))return!1;V=V.next}return!0}function o(R,S,T,U){var V=R.prev,W=R,X=R.next;if(0<=G(V,W,X))return!1;for(var Y=V.x<W.x?V.x<X.x?V.x:X.x:W.x<X.x?W.x:X.x,Z=V.y<W.y?V.y<X.y?V.y:X.y:W.y<X.y?W.y:X.y,$=V.x>W.x?V.x>X.x?V.x:X.x:W.x>X.x?W.x:X.x,_=V.y>W.y?V.y>X.y?V.y:X.y:W.y>X.y?W.y:X.y,aa=C(Y,Z,S,T,U),ba=C($,_,S,T,U),ca=R.prevZ,da=R.nextZ;ca&&ca.z>=aa&&da&&da.z<=ba;){if(ca!==R.prev&&ca!==R.next&&E(V.x,V.y,W.x,W.y,X.x,X.y,ca.x,ca.y)&&0<=G(ca.prev,ca,ca.next))return!1;if(ca=ca.prevZ,da!==R.prev&&da!==R.next&&E(V.x,V.y,W.x,W.y,X.x,X.y,da.x,da.y)&&0<=G(da.prev,da,da.next))return!1;da=da.nextZ}for(;ca&&ca.z>=aa;){if(ca!==R.prev&&ca!==R.next&&E(V.x,V.y,W.x,W.y,X.x,X.y,ca.x,ca.y)&&0<=G(ca.prev,ca,ca.next))return!1;ca=ca.prevZ}for(;da&&da.z<=ba;){if(da!==R.prev&&da!==R.next&&E(V.x,V.y,W.x,W.y,X.x,X.y,da.x,da.y)&&0<=G(da.prev,da,da.next))return!1;da=da.nextZ}return!0}function s(R,S,T){var U=R;do{var V=U.prev,W=U.next.next;!H(V,W)&&I(V,U,U.next,W)&&K(V,W)&&K(W,V)&&(S.push(V.i/T),S.push(U.i/T),S.push(W.i/T),O(U),O(U.next),U=R=W),U=U.next}while(U!==R);return U}function t(R,S,T,U,V,W){var X=R;do{for(var Y=X.next.next;Y!==X.prev;){if(X.i!==Y.i&&F(X,Y)){var Z=M(X,Y);return X=h(X,X.next),Z=h(Z,Z.next),k(X,S,T,U,V,W),void k(Z,S,T,U,V,W)}Y=Y.next}X=X.next}while(X!==R)}function u(R,S,T,U){var W,X,Y,Z,$,V=[];for(W=0,X=S.length;W<X;W++)Y=S[W]*U,Z=W<X-1?S[W+1]*U:R.length,$=g(R,Y,Z,U,!1),$===$.next&&($.steiner=!0),V.push(D($));for(V.sort(v),W=0;W<V.length;W++)w(V[W],T),T=h(T,T.next);return T}function v(R,S){return R.x-S.x}function w(R,S){if(S=z(R,S),S){var T=M(S,R);h(T,T.next)}}function z(R,S){var X,T=S,U=R.x,V=R.y,W=-Infinity;do{if(V<=T.y&&V>=T.next.y&&T.next.y!==T.y){var Y=T.x+(V-T.y)*(T.next.x-T.x)/(T.next.y-T.y);if(Y<=U&&Y>W){if(W=Y,Y===U){if(V===T.y)return T;if(V===T.next.y)return T.next}X=T.x<T.next.x?T:T.next}}T=T.next}while(T!==S);if(!X)return null;if(U===W)return X.prev;var ba,Z=X,$=X.x,_=X.y,aa=Infinity;for(T=X.next;T!==Z;)U>=T.x&&T.x>=$&&U!==T.x&&E(V<_?U:W,V,$,_,V<_?W:U,V,T.x,T.y)&&(ba=Math.abs(V-T.y)/(U-T.x),(ba<aa||ba===aa&&T.x>X.x)&&K(T,R)&&(X=T,aa=ba)),T=T.next;return X}function A(R,S,T,U){var V=R;do null===V.z&&(V.z=C(V.x,V.y,S,T,U)),V.prevZ=V.prev,V.nextZ=V.next,V=V.next;while(V!==R);V.prevZ.nextZ=null,V.prevZ=null,B(V)}function B(R){var S,T,U,V,W,X,Y,Z,$=1;do{for(T=R,R=null,W=null,X=0;T;){for(X++,U=T,Y=0,S=0;S<$&&(Y++,U=U.nextZ,!!U);S++);for(Z=$;0<Y||0<Z&&U;)0!==Y&&(0===Z||!U||T.z<=U.z)?(V=T,T=T.nextZ,Y--):(V=U,U=U.nextZ,Z--),W?W.nextZ=V:R=V,V.prevZ=W,W=V;T=U}W.nextZ=null,$*=2}while(1<X);return R}function C(R,S,T,U,V){return R=32767*(R-T)*V,S=32767*(S-U)*V,R=16711935&(R|R<<8),R=252645135&(R|R<<4),R=858993459&(R|R<<2),R=1431655765&(R|R<<1),S=16711935&(S|S<<8),S=252645135&(S|S<<4),S=858993459&(S|S<<2),S=1431655765&(S|S<<1),R|S<<1}function D(R){var S=R,T=R;do S.x<T.x&&(T=S),S=S.next;while(S!==R);return T}function E(R,S,T,U,V,W,X,Y){return 0<=(V-X)*(S-Y)-(R-X)*(W-Y)&&0<=(R-X)*(U-Y)-(T-X)*(S-Y)&&0<=(T-X)*(W-Y)-(V-X)*(U-Y)}function F(R,S){return R.next.i!==S.i&&R.prev.i!==S.i&&!J(R,S)&&K(R,S)&&K(S,R)&&L(R,S)}function G(R,S,T){return(S.y-R.y)*(T.x-S.x)-(S.x-R.x)*(T.y-S.y)}function H(R,S){return R.x===S.x&&R.y===S.y}function I(R,S,T,U){return H(R,S)&&H(T,U)||H(R,U)&&H(T,S)||0<G(R,S,T)!=0<G(R,S,U)&&0<G(T,U,R)!=0<G(T,U,S)}function J(R,S){var T=R;do{if(T.i!==R.i&&T.next.i!==R.i&&T.i!==S.i&&T.next.i!==S.i&&I(T,T.next,R,S))return!0;T=T.next}while(T!==R);return!1}function K(R,S){return 0>G(R.prev,R,R.next)?0<=G(R,S,R.next)&&0<=G(R,R.prev,S):0>G(R,S,R.prev)||0>G(R,R.next,S)}function L(R,S){var T=R,U=!1,V=(R.x+S.x)/2,W=(R.y+S.y)/2;do T.y>W!=T.next.y>W&&T.next.y!==T.y&&V<(T.next.x-T.x)*(W-T.y)/(T.next.y-T.y)+T.x&&(U=!U),T=T.next;while(T!==R);return U}function M(R,S){var T=new P(R.i,R.x,R.y),U=new P(S.i,S.x,S.y),V=R.next,W=S.prev;return R.next=S,S.prev=R,T.next=V,V.prev=T,U.next=T,T.prev=U,W.next=U,U.prev=W,U}function N(R,S,T,U){var V=new P(R,S,T);return U?(V.next=U.next,V.prev=U,U.next.prev=V,U.next=V):(V.prev=V,V.next=V),V}function O(R){R.next.prev=R.prev,R.prev.next=R.next,R.prevZ&&(R.prevZ.nextZ=R.nextZ),R.nextZ&&(R.nextZ.prevZ=R.prevZ)}function P(R,S,T){this.i=R,this.x=S,this.y=T,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Q(R,S,T,U){for(var V=0,W=S,X=T-U;W<T;W+=U)V+=(R[X]-R[W])*(R[W+1]+R[X+1]),X=W;return V}return f.deviation=function(R,S,T,U){var V=S&&S.length,W=V?S[0]*T:R.length,X=Math.abs(Q(R,0,W,T));if(V)for(var Y=0,Z=S.length;Y<Z;Y++){var $=S[Y]*T,_=Y<Z-1?S[Y+1]*T:R.length;X-=Math.abs(Q(R,$,_,T))}var aa=0;for(Y=0;Y<U.length;Y+=3){var ba=U[Y]*T,ca=U[Y+1]*T,da=U[Y+2]*T;aa+=Math.abs((R[ba]-R[da])*(R[ca+1]-R[ba+1])-(R[ba]-R[ca])*(R[da+1]-R[ba+1]))}return 0===X&&0===aa?0:Math.abs((aa-X)/X)},f.flatten=function(R){for(var S=R[0][0].length,T={vertices:[],holes:[],dimensions:S},U=0,V=0;V<R.length;V++){for(var W=0;W<R[V].length;W++)for(var X=0;X<S;X++)T.vertices.push(R[V][W][X]);0<V&&(U+=R[V-1].length,T.holes.push(U))}return T},f});